# Analysis setup for Reco TP with ID probes
# Heavily based on ZTrigger/MultiLegTriggers files written by Alec
# with updates for new ntuple structure

Import MuonTPPostProcessing/RunConf/ZTrigger/SingleMuonTriggers/BasicConfigZMuon_2017_B.conf

### Global Cuts to all events ###

GlobalCut float z0SinTheta < 0.5
GlobalCut D0Sig probe |<| 3
ProbeCut floatGeV dilep_mll |RNG| 81.2 101.2
GlobalCut int PV_n >= 19
GlobalCut int runNumber RNG 325713 328393

### Selections ###

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel MediumMuonProbes
    ProbeCut bool probe_matched_MediumMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel MediumMuonProbes
    ProbeCut bool probe_matched_MediumMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel MediumMuonProbes
    ProbeCut bool probe_matched_MediumMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel MediumMuonProbes
    ProbeCut bool probe_matched_MediumMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel MediumMuonProbes
    ProbeCut bool probe_matched_MediumMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel MediumMuonProbes
    ProbeCut bool probe_matched_MediumMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel LooseMuonProbes
    ProbeCut bool probe_matched_LooseMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel LooseMuonProbes
    ProbeCut bool probe_matched_LooseMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel LooseMuonProbes
    ProbeCut bool probe_matched_LooseMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel LooseMuonProbes
    ProbeCut bool probe_matched_LooseMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel LooseMuonProbes
    ProbeCut bool probe_matched_LooseMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel LooseMuonProbes
    ProbeCut bool probe_matched_LooseMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel TightMuonProbes
    ProbeCut bool probe_matched_TightMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel TightMuonProbes
    ProbeCut bool probe_matched_TightMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel TightMuonProbes
    ProbeCut bool probe_matched_TightMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel TightMuonProbes
    ProbeCut bool probe_matched_TightMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel TightMuonProbes
    ProbeCut bool probe_matched_TightMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel TightMuonProbes
    ProbeCut bool probe_matched_TightMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel HighPtMuonProbes
    ProbeCut bool probe_matched_HighPtMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel HighPtMuonProbes
    ProbeCut bool probe_matched_HighPtMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel HighPtMuonProbes
    ProbeCut bool probe_matched_HighPtMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel HighPtMuonProbes
    ProbeCut bool probe_matched_HighPtMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel HighPtMuonProbes
    ProbeCut bool probe_matched_HighPtMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel HighPtMuonProbes
    ProbeCut bool probe_matched_HighPtMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowLoose_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowLoose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowLoose_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowLoose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowLoose_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowLoose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowLoose_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowLoose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowLoose_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowLoose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowLoose_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowLoose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowTight_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowTight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowTight_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowTight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowTight_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowTight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowTight_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowTight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowTight_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowTight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel PflowTight_VarRadMuonProbes
    ProbeCut bool probe_matched_PflowTight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Loose_VarRadMuonProbes
    ProbeCut bool probe_matched_Loose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Loose_VarRadMuonProbes
    ProbeCut bool probe_matched_Loose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Loose_VarRadMuonProbes
    ProbeCut bool probe_matched_Loose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Loose_VarRadMuonProbes
    ProbeCut bool probe_matched_Loose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Loose_VarRadMuonProbes
    ProbeCut bool probe_matched_Loose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Loose_VarRadMuonProbes
    ProbeCut bool probe_matched_Loose_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Tight_VarRadMuonProbes
    ProbeCut bool probe_matched_Tight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Tight_VarRadMuonProbes
    ProbeCut bool probe_matched_Tight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Tight_VarRadMuonProbes
    ProbeCut bool probe_matched_Tight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 63.0
    Matches HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Tight_VarRadMuonProbes
    ProbeCut bool probe_matched_Tight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu50
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Tight_VarRadMuonProbes
    ProbeCut bool probe_matched_Tight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 27.3
    Matches HLT_mu26_ivarmedium_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection

New_TPSelection ZmumuTPMerged OC MuonProbes
    NameProbeSel Tight_VarRadMuonProbes
    ProbeCut bool probe_matched_Tight_VarRadMuons = 1
    ProbeCut floatGeV probe_pt > 52.5
    Matches HLT_mu50_OR_HLT_mu60_0eta105_msonly
    DetRegion All noCrack Barrel Endcap
End_TPSelection


##################################################################################
##################################################################################